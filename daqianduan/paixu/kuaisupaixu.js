let quickSort = (arr) => {
  let stack = [[0, arr.length - 1]];
  while (stack.length > 0) {
    let temp = stack.pop();
    if (temp[0] >= temp[1]) continue;
    let i = temp[0],
      j = temp[1],
      flag = i;
    while (i < j) {
      while (arr[j] > arr[flag] && j > flag) j--;
      if (i >= j) break;
      while (arr[i] <= arr[flag] && i < j) i++;
      // let temp1 = arr[flag];
      // arr[flag] = arr[j];
      // arr[j] = arr[i];
      // arr[i] = temp1;

      //先交换的两个元素先写
      [arr[flag], arr[j], arr[i]] = [arr[j], arr[i], arr[flag]];

      // [arr[flag], arr[j]] = [arr[j], arr[flag]];
      // [arr[i], arr[j]] = [arr[j], arr[i]];

      flag = i;
    }
    stack.push([temp[0], flag - 1]);
    stack.push([flag + 1, temp[1]]);
  }
  return arr;
};

const arr = [
  1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345,
  14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45,
  2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2,
  45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34,
  2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2,
  34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345,
  2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245,
  345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23,
  453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235,
  23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324,
  1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1,
  324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2,
  1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346,
  2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324,
  2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452,
  324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23,
  3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1,
  23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14,
  1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345,
  14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2, 45,
  2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34, 2,
  45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2, 34,
  2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345, 2,
  34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245, 345,
  2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23, 453245,
  345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235, 23,
  453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324, 1235,
  23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1, 324,
  1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14, 1, 23, 3452, 324, 2346, 2, 1,
  324, 1235, 23, 453245, 345, 2, 34, 2, 45, 2345, 14,
];

console.log(quickSort(arr));
